<!DOCTYPE html>
<html data-th-replace="~{layouts/layout :: frag-layout
                        (title= ~{:: title},
                        content= ~{::main} )}">

<title>Articles</title>

<main class="center-main">
    <div class="container">
        <h1 th:text="${article.nom_article}"></h1>
        <div>
            <ul>
                <li class="flex-outer" th:text="${article.description}"></li>
                <li class="flex-outer" th:text="${article.categorie.libelle}"></li>
                <li class="flex-outer" th:if="${enchereUtilisateur != null}">
                    Meilleur enchère :&nbsp;<span th:text="${enchereUtilisateur.pseudo}"></span>
                </li>
                <li class="flex-outer" th:if="${enchereUtilisateur == null}">
                    Pas d'enchère en cours pour le moment.
                </li>
                <li class="flex-outer">
                    Prix : <span th:text="${enchere.montant_enchere}"></span> points
                </li>
                <li>
                    <form data-th-action="@{/add-enchere}" method="post" data-th-object="${enchere}">
                        <label for="idEnchere">Nouvelle enchère</label>
                        <input id="idEnchere" type="number"  data-th-field="${enchere.montant_enchere}"  data-th-value = "${enchere.montant_enchere}">
                        <input type="submit" value="envoyer">
                    </form>
                </li>
                <li class="flex-outer" data-th-text="${article.getDate_fin_encheres()}"></li>
                <ul>
                    <li class="flex-outer" th:text="${article.utilisateur.rue}"></li>
                    <li class="flex-outer" th:text="${article.utilisateur.code_postal}"></li>
                    <li class="flex-outer" th:text="${article.utilisateur.ville}"></li>
                </ul>
                <li class="flex-outer">vendu par : <span th:text="${article.utilisateur.pseudo}"></span></li>
            </ul>
        </div>
    </div>
</main>
</html>
